#!/usr/bin/env ruby

require 'optparse'
require 'methadone'
require 'tentacle.rb'


class App
  include Methadone::Main
  include Methadone::CLILogging

  main do |pid,username,password,s3_key,s3_secret|
    e = Tentacle::Extractor.new(pid, username, password,s3_key,s3_secret)
    e.run
  end

  description "Keboola Tentacle | versioning tool for GoodData projects"
  arg :pid, :required
  arg :username, :required
  arg :password, :required
  arg :s3_access_key, :required
  arg :s3_secret_key, :required

  version Tentacle::VERSION

  use_log_level_option

  go!
end
